(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,n){e.exports=n(237)},237:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(50),i=n.n(o),s=n(5),c=n(6),l=n(107),u=n(240),m=n(29),d={userSignStatus:null,userID:null,type:null},p=n(51),g=n(52),h=n.n(g),E={0:{email:null,firstName:null,lastName:null,password:null,id:null}},f=Object(c.c)({signedStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(m.a)({},e,{userSignStatus:!0,userID:t.payload.userID,type:t.payload.type});case"SIGN_OUT":return Object(m.a)({},e,{userSignStatus:!1,userID:null,type:null});default:return e}},localAccount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ACC":return Object(m.a)({},e,Object(p.a)({},t.payload.id,t.payload));case"DELETE_ACC":return h.a.omit(e,t.payload);default:return e}},youtubeList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_YT_LIST":return t.payload;case"FETCH_YT_ERR":return"Somethink went wrong";case"CLEAR_YT_LIST":return[];default:return e}},selectedYTVideo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch((arguments.length>1?arguments[1]:void 0).type){case"SELECTED_VIDEO":return!0;case"SELECTED_RESET":return!1;default:return e}},displayLoginApp:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DISPLAY_LOGIN_NAV":return t.payload;default:return e}},form:u.a}),v=n(16),b=n(26),S=n(9),y=n(10),O=n(12),N=n(11),w=n(13),I=n(71),j=n.n(I),_=n(109),C=n(110),L=n.n(C).a.create({baseURL:"https://www.googleapis.com/youtube/v3"}),k=function(e){return{type:"DISPLAY_LOGIN_NAV",payload:e}},A=function(e,t){return{type:"SIGN_IN",payload:{userID:e,type:t}}},T=function(){return{type:"SIGN_OUT"}},Y=function(){return{type:"SELECTED_RESET"}},V=function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(O.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(r)))).onAuthChange=function(e){e?n.props.userSignIn(n.auth.currentUser.get().getId(),"google"):n.props.userSignOut()},n}return Object(w.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",function(){window.gapi.client.init({clientId:"1038306277892-1ng7t4ubhiu0gkrvtdso06q4ei6n23ln.apps.googleusercontent.com",scope:"email"}).then(function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(e.onAuthChange)})})}},{key:"renderButton",value:function(){return null===this.props.userSignStatus||"local"===this.props.userType?r.a.createElement("div",null):this.props.userSignStatus?r.a.createElement("button",{className:"login-nav-google",onClick:this.auth.signOut},r.a.createElement("ion-icon",{name:"logo-google"}),"Log out from Google"):r.a.createElement("button",{className:"login-nav-google",onClick:this.auth.signIn},r.a.createElement("ion-icon",{name:"logo-google"}),"Log in with Google")}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderButton())}}]),t}(r.a.Component),D=Object(s.b)(function(e){return{userSignStatus:e.signedStatus.userSignStatus,userType:e.signedStatus.type}},{userSignIn:A,userSignOut:T})(V),x=function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(o)))).renderIntro=function(){return n.props.userSignStatus&&"google"===n.props.userType?r.a.createElement("div",null):n.props.userSignStatus&&"local"===n.props.userType?r.a.createElement("div",{className:"login-nav-item"},r.a.createElement(v.b,{to:"/login",onClick:n.props.userSignOut},"Logout"),r.a.createElement(v.b,{to:"/delete"},"Delete account")):r.a.createElement("div",{className:"login-nav-item"},r.a.createElement(v.b,{to:"/login"},"Login"),r.a.createElement(v.b,{to:"/create"},"Create account"))},n}return Object(w.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-nav"},this.renderIntro(),r.a.createElement(D,null))}}]),t}(r.a.Component),R=Object(s.b)(function(e){return{userSignStatus:e.signedStatus.userSignStatus,userType:e.signedStatus.type}},{userSignOut:T})(x),B=n(239),G=n(238),H=function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(o)))).state={videoId:null,listIsHidden:!0},n.onSelectedVideo=function(e){n.props.selectedVideo(),n.setState({videoId:e.id.videoId})},n.renderList=function(){var e=0;return n.props.listOfVideos.map(function(t){var a=void 0!==t.id.videoId?t.id.videoId:e++;return r.a.createElement("div",{className:"video-container__list-item",style:n.props.isVideoSelected?{}:{fontSize:"2rem"},key:a,onClick:function(){return n.onSelectedVideo(t)}},r.a.createElement("img",{src:t.snippet.thumbnails.medium.url,alt:":("}),r.a.createElement("p",null,t.snippet.title))})},n.displayList=function(){return n.state.listIsHidden?r.a.createElement("div",{className:"video-container__selected-hidden"},r.a.createElement("div",{className:"video-container__display-hidden"},r.a.createElement("iframe",{src:"https://www.youtube.com/embed/".concat(n.state.videoId)})),r.a.createElement("div",{className:"video-container__icon"},r.a.createElement("ion-icon",{onClick:function(){return n.setState({listIsHidden:!1})},name:"arrow-dropup-circle"}))):r.a.createElement("div",{className:"video-container__selected-showed"},r.a.createElement("div",{className:"video-container__display-showed"},r.a.createElement("iframe",{src:"https://www.youtube.com/embed/".concat(n.state.videoId)}),r.a.createElement("div",{className:"login-form-btn-logout",onClick:function(){return n.props.resetSelectedVideo()},style:{margin:"1rem auto",width:"8rem"}},"Cofnij")),r.a.createElement("div",{className:"video-container__icon"},r.a.createElement("ion-icon",{onClick:function(){return n.setState({listIsHidden:!0})},name:"arrow-dropdown-circle"})),r.a.createElement("div",{className:"video-container__list"},n.renderList()))},n}return Object(w.a)(t,e),Object(y.a)(t,[{key:"componentWillUnmount",value:function(){this.props.resetSelectedVideo()}},{key:"render",value:function(){return this.props.isVideoSelected?this.displayList():r.a.createElement("div",{className:"video-container"},this.renderList())}}]),t}(r.a.Component),U=Object(s.b)(function(e){return{listOfVideos:e.youtubeList,isVideoSelected:e.selectedYTVideo}},{selectedVideo:function(){return{type:"SELECTED_VIDEO"}},resetSelectedVideo:Y})(H),F=function(e){function t(e){var n;return Object(S.a)(this,t),(n=Object(O.a)(this,Object(N.a)(t).call(this,e))).onSearchBtnClick=function(){n.state.inputValue&&(n.props.getAPI(n.state.inputValue),n.setState({inputValue:""}),n.props.resetSelectedVideo())},n.state={inputValue:""},n.props.resetYoutubeList(),n}return Object(w.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"login-container-searchBar"},r.a.createElement("input",{type:"text",className:"input-text",placeholder:"What you want to find?",value:this.state.inputValue,onChange:function(t){return e.setState({inputValue:t.target.value})}}),r.a.createElement("button",{className:"input-btn",onClick:this.onSearchBtnClick},"Search"))),r.a.createElement(U,null))}}]),t}(r.a.Component),P=Object(s.b)(null,{getAPI:function(e){return function(){var t=Object(_.a)(j.a.mark(function t(n){var a;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.get("/search",{params:{part:"snippet",maxResults:"5",key:"AIzaSyBb4uRjxqUDQyXtMRC3NBBQLy3TmdBwnNw",q:e}});case 3:a=t.sent,n({type:"FETCH_YT_LIST",payload:a.data.items}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:"FETCH_YT_ERR"});case 10:case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},resetYoutubeList:function(){return{type:"CLEAR_YT_LIST"}},resetSelectedVideo:Y})(F),q=function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(o)))).state={attemptToLogIn:!1},n.renderError=function(e){return e.touched&&e.error&&!e.active?e.error:null},n.renderElement=function(e){var t=e.meta;return r.a.createElement("div",{className:"login-form-item"},e.label,r.a.createElement("input",Object.assign({type:e.type},e.input,{placeholder:n.renderError(t),className:t.touched&&t.error&&!t.active?"red-background":""})))},n.onSubmitBtn=function(e){n.setState({attemptToLogIn:!0}),n.validateInputValues(e),n.props.reset()},n.alertLogIn="",n.validateInputValues=function(e){var t=Object.values(n.props.accountDataBase);n.alertLogIn="",t.length||(n.alertLogIn="Your email or password are incorrect."),t.forEach(function(t){!0===n.props.userSignStatus||t.email===e.email&&t.password===e.password?(n.props.userSignIn(t.id,"local"),n.setState({attemptToLogIn:!1})):n.alertLogIn="Your email or password are incorrect."})},n}return Object(w.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this;return this.props.displayLoginNav(!0),this.state.attemptToLogIn||!0===this.props.userSignStatus?this.state.attemptToLogIn&&!0!==this.props.userSignStatus?r.a.createElement("div",{className:"login__account__message"},r.a.createElement("p",null,this.alertLogIn),r.a.createElement("button",{className:"login-form-btn-logout",onClick:function(){return e.setState({attemptToLogIn:!1})}},"Return")):r.a.createElement(P,null):r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmitBtn.bind(this))},r.a.createElement(B.a,{name:"email",component:this.renderElement,label:"Your email: ",type:"email"}),r.a.createElement(B.a,{name:"password",component:this.renderElement,label:"Your password: ",type:"text"}),r.a.createElement("button",{className:"login-form-btn"},"Log in"))}}]),t}(r.a.Component),z=Object(G.a)({form:"loginPage",validate:function(e){var t={};return e.email||(t.email="You must input your email!"),e.password||(t.password="You must input your password!"),t}})(q),M=Object(s.b)(function(e){return{accountDataBase:e.localAccount,userSignStatus:e.signedStatus.userSignStatus}},{userSignIn:A,displayLoginNav:k})(z),J=function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(o)))).state={isChecked:!0,newAccountSuccessful:!1,alreadyExist:!1},n.renderError=function(e){return e.touched&&e.error&&!e.active?e.error:null},n.renderElement=function(e){var t=e.meta;return"email"===e.input.name?r.a.createElement("div",{className:"login-form-item"},"Your email:",r.a.createElement("input",Object.assign({type:"email",placeholder:n.renderError(t),className:t.touched&&t.error&&!t.active?"red-background":""},e.input))):"password"===e.input.name?r.a.createElement("div",{className:"login-form-item"},"Your password:",r.a.createElement("input",Object.assign({type:"text",placeholder:n.renderError(t),className:t.touched&&t.error&&!t.active?"red-background":""},e.input))):r.a.createElement("div",{className:"login-form-item"},e.label,r.a.createElement("input",Object.assign({type:"text",placeholder:n.renderError(t),className:t.touched&&t.error&&!t.active?"red-background":""},e.input)))},n.onSubmitBtn=function(e){var t,a=Object.values(n.props.userAcc),r=!0;(a.forEach(function(t){t.email===e.email&&(r=!1)}),r)?(Object(g.isEmpty)(n.props.userAcc)||null===a[0].id?t=0:(t=a[0].id+1,a.forEach(function(e){t<=e.id&&(t=e.id+1)})),n.props.createNewAccount(Object(m.a)({},e,{id:t})),n.setState({newAccountSuccessful:!0})):n.setState({alreadyExist:!0})},n}return Object(w.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this;return this.props.displayLoginNav(!0),this.state.newAccountSuccessful&&!this.state.alreadyExist?r.a.createElement("div",{className:"login__account__message"},"Your account was successfuly created. You can now log in.",r.a.createElement(v.b,{to:"/login",className:"login-form-btn-logout",onClick:this.props.userSignOut},"Return")):this.state.alreadyExist?r.a.createElement("div",{className:"login__account__message"},"Account with this email already exist.",r.a.createElement(v.b,{to:"/login",className:"login-form-btn-logout",onClick:this.props.userSignOut},"Return")):this.props.userSignStatus?r.a.createElement("div",{className:"login__account__message"},r.a.createElement(v.b,{to:"/login",className:"login-form-btn-logout",onClick:this.props.userSignOut},"Return")):r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmitBtn)},r.a.createElement(B.a,{name:"firstName",component:this.renderElement,label:"Your first name:"}),r.a.createElement(B.a,{name:"lastName",component:this.renderElement,label:"Your last name:"}),r.a.createElement("div",{className:"login-form-item"},"Your gender:",r.a.createElement("div",{className:"login-form-item-gender"},r.a.createElement(B.a,{name:"gender",component:"input",type:"radio",value:"male",checked:this.state.isChecked,onClick:function(){return e.setState({isChecked:!0})}}),"Male",r.a.createElement(B.a,{name:"gender",component:"input",type:"radio",value:"female",checked:!this.state.isChecked,onClick:function(){return e.setState({isChecked:!1})}}),"Female")),r.a.createElement(B.a,{name:"email",component:this.renderElement}),r.a.createElement(B.a,{name:"password",component:this.renderElement}),r.a.createElement("button",{className:"login-form-btn"},"Create"))}}]),t}(r.a.Component),Q=Object(G.a)({form:"newAccount",validate:function(e){var t={};return e.firstName||(t.firstName="You must input your first name!"),e.lastName||(t.lastName="You must input your last name!"),e.email||(t.email="You must input your email!"),e.password||(t.password="You must input your password!"),t}})(J),W=Object(s.b)(function(e){return{userAcc:e.localAccount,userSignStatus:e.signedStatus.userSignStatus}},{displayLoginNav:k,createNewAccount:function(e){return{type:"CREATE_ACC",payload:e}}})(Q),X=function(e){function t(){return Object(S.a)(this,t),Object(O.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return this.props.displayLoginNav(!0),this.props.isSignedIn?r.a.createElement(P,null):r.a.createElement("div",{style:{textAlign:"center",marginTop:"3rem",fontSize:"2rem"}},"Create an account and login or use you google account in order to search videos.")}}]),t}(r.a.Component),K=Object(s.b)(function(e){return{isSignedIn:e.signedStatus.userSignStatus}},{displayLoginNav:k})(X),Z=function(e){e.deleteAcc(e.isSignIn.userID),e.userSignOut()},$=Object(s.b)(function(e){return{isSignIn:e.signedStatus}},{deleteAcc:function(e){return{type:"DELETE_ACC",payload:e}},userSignOut:T,displayLoginNav:k})(function(e){return e.displayLoginNav(!0),e.isSignIn.userSignStatus&&"local"===e.isSignIn.type?r.a.createElement("div",null,r.a.createElement("div",{className:"login__account__message"},"Are you sure you want to delete an account?"),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(v.b,{to:"/login",className:"login-form-btn-logout",onClick:function(){return Z(e)},style:{color:"rgb(248, 117, 117)"}},"Yes"),r.a.createElement(v.b,{to:"/login",className:"login-form-btn-logout",style:{marginLeft:"3rem",color:"rgb(140, 247, 145)"}},"No"))):r.a.createElement(M,null)}),ee=function(){return r.a.createElement(v.a,null,r.a.createElement(R,null),r.a.createElement(b.a,{path:"/",exact:!0,component:K}),r.a.createElement(b.a,{path:"/login",component:M}),r.a.createElement(b.a,{path:"/create",component:W}),r.a.createElement(b.a,{path:"/delete",component:$}))};i.a.render(r.a.createElement(s.a,{store:Object(c.d)(f,Object(c.a)(l.a))},r.a.createElement(ee,null)),document.querySelector(".login"))}},[[112,1,2]]]);
//# sourceMappingURL=main.5f9dba05.chunk.js.map